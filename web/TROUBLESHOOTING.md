# 🔧 故障排除指南

## 常见问题与解决方案

### 1. 模板加载失败

**问题**: 控制台显示 "Failed to load templates" 或 404 错误

**原因**:
- 模板文件路径不正确
- 未使用HTTP服务器访问（使用了file://协议）

**解决方案**:
1. 确保使用HTTP服务器启动项目：
   ```bash
   ./start-server.sh
   ```
2. 访问 `http://localhost:8080` 而不是直接打开HTML文件
3. 检查 `web/templates/` 目录是否存在模板文件

### 2. 文件上传失败

**问题**: ZIP文件上传后无响应或报错

**解决方案**:
1. 确保上传的是ZIP格式文件
2. 检查文件大小（建议小于100MB）
3. 确保文件名不包含特殊字符
4. 刷新页面后重试

### 3. 项目数据丢失

**问题**: 创建的项目在刷新后消失

**原因**: 浏览器localStorage被清空

**解决方案**:
1. 检查浏览器是否开启了隐私模式
2. 确保localStorage功能正常
3. 定期导出项目数据备份

### 4. 大纲编辑器无响应

**问题**: 无法编辑大纲节点

**解决方案**:
1. 先选择一个项目
2. 检查项目是否包含大纲数据
3. 刷新页面重新加载
4. 检查浏览器控制台是否有JavaScript错误

### 5. 内容编辑器显示异常

**问题**: 章节列表为空或内容无法保存

**解决方案**:
1. 确保先编辑了项目大纲
2. 在大纲编辑器中保存大纲后再切换到内容编辑
3. 检查大纲和内容的章节ID是否匹配

### 6. 执行控制台命令生成失败

**问题**: 点击执行按钮后无命令显示

**解决方案**:
1. 确保选择了正确的项目
2. 检查项目数据完整性
3. 按照 Init → Prefill → Run 的顺序执行

### 7. 服务器启动失败

**问题**: `./start-server.sh` 报错

**解决方案**:
1. 确保安装了Python或Node.js：
   ```bash
   python3 --version
   # 或
   node --version
   ```
2. 检查端口是否被占用：
   ```bash
   lsof -i :8080
   ```
3. 手动启动服务器：
   ```bash
   python3 -m http.server 8080
   ```

### 8. 浏览器兼容性问题

**问题**: 某些功能在特定浏览器中无法使用

**解决方案**:
1. 使用现代浏览器（Chrome 80+, Firefox 75+, Safari 13+）
2. 启用JavaScript
3. 禁用可能冲突的浏览器扩展

## 调试技巧

### 检查浏览器控制台
1. 按 F12 打开开发者工具
2. 查看 Console 选项卡中的错误信息
3. 查看 Network 选项卡检查网络请求

### 清除浏览器数据
如果问题持续存在，尝试清除相关数据：
1. 按 F12 → Application → Storage → Clear storage
2. 或在浏览器设置中清除localhost:8080的数据

### 验证文件结构
确保目录结构正确：
```
web/
├── index.html
├── templates/
│   ├── outline.template.json
│   └── content.template.json
├── css/
├── js/
└── lib/
```

## 获取帮助

### 日志信息
遇到问题时，请提供：
1. 浏览器控制台的错误信息
2. 使用的浏览器版本
3. 操作系统信息
4. 具体的操作步骤

### 重置系统
如果问题无法解决，可以重置系统：
1. 清除浏览器localStorage
2. 刷新页面
3. 重新创建项目

## 性能优化

### 大文件处理
- 源码ZIP文件建议小于50MB
- 避免上传包含大量二进制文件的项目
- 定期清理不需要的项目数据

### 内存使用
- 关闭不需要的浏览器标签页
- 定期重启浏览器
- 避免同时打开多个大型项目

---

**提示**: 大多数问题可以通过刷新页面或重启服务器解决。如果问题持续存在，请检查浏览器控制台中的具体错误信息。