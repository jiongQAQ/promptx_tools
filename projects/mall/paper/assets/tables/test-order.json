{
  "tableName": "test_order",
  "tableCnName": "订单管理功能测试用例表",
  "tableId": "6-3",
  "columns": [
    ["测试用例ID", "测试场景", "输入数据", "操作步骤", "预期结果", "实际结果", "测试状态"],
    ["TC-O-001", "正常创建订单", "用户ID:1001\n商品:A,B\n地址ID:2001", "1.选择购物车商品\n2.填写收货地址\n3.提交订单", "预扣库存，创建订单，清空购物车，返回订单号", "订单创建成功，库存预扣减，购物车已清空", "通过"],
    ["TC-O-002", "库存不足创建订单", "商品库存:0", "1.选择无库存商品\n2.提交订单", "提示库存不足，订单不创建，分布式事务回滚", "提示库存不足，数据保持一致", "通过"],
    ["TC-O-003", "未登录创建订单", "未登录状态", "提交订单", "返回401未授权错误", "返回401未授权错误", "通过"],
    ["TC-O-004", "收货地址不存在", "地址ID:9999(不存在)", "提交订单", "系统提示请选择收货地址", "系统提示请选择收货地址", "通过"],
    ["TC-O-005", "订单支付成功", "订单号:202501020001\n支付金额:299.00", "1.调用支付接口\n2.完成支付\n3.回调通知", "订单状态更新为已支付，真正扣减库存，记录支付时间", "订单状态=已支付，库存扣减，支付时间已记录", "通过"],
    ["TC-O-006", "订单支付超时", "订单创建后30分钟", "等待30分钟不支付", "定时任务自动取消订单，库存恢复", "订单状态=已取消，库存已恢复", "通过"],
    ["TC-O-007", "管理员发货", "订单号:202501020001\n状态:已支付", "1.填写物流信息\n2.确认发货", "订单状态更新为已发货，记录发货时间", "订单状态=已发货，发货时间已记录", "通过"],
    ["TC-O-008", "待支付订单发货", "订单状态:待支付", "执行发货操作", "系统提示订单未支付不能发货", "系统提示订单未支付不能发货", "通过"],
    ["TC-O-009", "用户确认收货", "订单状态:已发货", "点击确认收货", "订单状态更新为已完成", "订单状态=已完成", "通过"],
    ["TC-O-010", "取消待支付订单", "订单状态:待支付", "点击取消订单", "订单取消成功，库存恢复", "订单状态=已取消，库存已恢复", "通过"],
    ["TC-O-011", "取消已支付订单", "订单状态:已支付", "点击取消订单", "系统提示已支付订单不能直接取消，需申请退款", "系统提示需申请退款", "通过"],
    ["TC-O-012", "查询订单列表", "用户ID:1001\n状态筛选:全部", "查询订单列表", "返回用户所有订单，支持分页", "返回用户所有订单，分页正常", "通过"],
    ["TC-O-013", "查询其他用户订单", "订单ID:9999(其他用户)", "查询订单详情", "返回权限不足错误", "返回权限不足错误", "通过"],
    ["TC-O-014", "分布式事务回滚", "商品服务故障", "创建订单时商品服务调用失败", "Seata回滚，订单不创建，库存不变，购物车保持原状", "事务回滚成功，数据保持一致", "通过"],
    ["TC-O-015", "并发创建订单", "100用户\n库存:5件", "100用户同时购买最后5件商品", "5个用户成功，95个用户提示库存不足，不会超卖", "5个订单成功，95个失败，库存=0，无超卖", "通过"]
  ]
}
