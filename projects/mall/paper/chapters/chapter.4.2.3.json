{
  "id": "4.2.3",
  "title": "表结构设计",
  "word_limit": 500,
  "text": "placeholder",
  "_note": "三级章节，包含11个数据表的三线表",
  "content": "表结构设计将逻辑结构转换为具体的数据库表定义，明确各字段的数据类型和约束条件。系统共设计11个数据表，分布在5个微服务数据库中：newbee_mall_cloud_user_db（用户服务）、newbee_mall_cloud_goods_db（商品服务）、newbee_mall_cloud_order_db（订单服务）、newbee_mall_cloud_cart_db（购物车服务）、newbee_mall_cloud_recommend_db（推荐服务）。各表采用标准三线表格式展示字段名称、数据类型、约束条件和说明，详细定义如下。",
  "items": [
    {
      "title": "商城用户表（tb_newbee_mall_user）",
      "text": "商城用户表用于存储普通用户的账号信息和基本资料，支持用户注册登录功能。表包含8个字段，主键user_id采用BIGINT类型自增长策略，login_name登录名保证账号唯一性，password_md5字段存储MD5加密后的密码，is_deleted和locked_flag分别控制逻辑删除和账号锁定。详细字段定义如表4-3所示。",
      "tablePath": "${tables}/Tab-tb_newbee_mall_user.json"
    },
    {
      "title": "管理员用户表（tb_newbee_mall_admin_user）",
      "text": "管理员用户表存储系统管理员的账号信息，与普通用户表分离实现权限隔离。主键admin_user_id，login_user_name登录用户名保证唯一性，login_password存储加密密码，locked字段标识账号锁定状态。详细字段定义如表4-4所示。",
      "tablePath": "${tables}/Tab-tb_newbee_mall_admin_user.json"
    },
    {
      "title": "用户地址表（tb_newbee_mall_user_address）",
      "text": "用户地址表存储用户的收货地址信息，一个用户可以拥有多个收货地址。主键address_id，user_id外键关联用户表，包含收货人姓名、联系电话、省市区、详细地址等完整地址信息，is_default字段标识默认地址。详细字段定义如表4-5所示。",
      "tablePath": "${tables}/Tab-tb_newbee_mall_user_address.json"
    },
    {
      "title": "商品信息表（tb_newbee_mall_goods_info）",
      "text": "商品信息表是系统的核心业务表，存储商品的完整信息。主键goods_id，goods_name商品名称，goods_category_id外键关联商品分类，goods_cover_img和goods_carousel存储商品图片URL，original_price和selling_price分别存储原价和售价（单位为分），stock_num库存数量，goods_sell_status销售状态控制商品上下架，goods_detail_content存储富文本详情。详细字段定义如表4-6所示。",
      "tablePath": "${tables}/Tab-tb_newbee_mall_goods_info.json"
    },
    {
      "title": "商品分类表（tb_newbee_mall_goods_category）",
      "text": "商品分类表采用树形结构设计，支持多级商品分类。主键category_id，category_level标识分类层级（1/2/3级），parent_id指向父分类实现树形结构，category_name分类名称，category_rank排序值控制分类显示顺序。详细字段定义如表4-7所示。",
      "tablePath": "${tables}/Tab-tb_newbee_mall_goods_category.json"
    },
    {
      "title": "订单表（tb_newbee_mall_order）",
      "text": "订单表存储订单的主要信息和状态。主键order_id，order_no订单编号使用分布式ID生成算法保证全局唯一性，user_id关联用户，total_price订单总价，pay_status支付状态，pay_type支付方式，pay_time支付时间，order_status订单状态标识订单生命周期各阶段。详细字段定义如表4-8所示。",
      "tablePath": "${tables}/Tab-tb_newbee_mall_order.json"
    },
    {
      "title": "订单明细表（tb_newbee_mall_order_item）",
      "text": "订单明细表存储订单中的商品列表，一个订单对应多条订单明细记录。主键order_item_id，order_id外键关联订单表，goods_id记录商品ID，goods_name、goods_cover_img等字段保存下单时的商品快照信息，避免商品信息变更影响历史订单，selling_price记录成交价格，goods_count购买数量。详细字段定义如表4-9所示。",
      "tablePath": "${tables}/Tab-tb_newbee_mall_order_item.json"
    },
    {
      "title": "订单地址表（tb_newbee_mall_order_address）",
      "text": "订单地址表存储订单的收货地址快照信息。order_id外键关联订单表，保存下单时的完整收货地址信息，包括收货人、联系电话、省市区、详细地址等，保证历史订单地址信息的准确性和完整性。详细字段定义如表4-10所示。",
      "tablePath": "${tables}/Tab-tb_newbee_mall_order_address.json"
    },
    {
      "title": "购物车表（tb_newbee_mall_shopping_cart_item）",
      "text": "购物车表存储用户的购物车商品信息。主键cart_item_id，user_id关联用户，goods_id关联商品，goods_count记录商品数量。购物车数据采用Redis+MySQL双写策略，Redis提供高性能访问，MySQL保证数据持久化。详细字段定义如表4-11所示。",
      "tablePath": "${tables}/Tab-tb_newbee_mall_shopping_cart_item.json"
    },
    {
      "title": "轮播图表（tb_newbee_mall_carousel）",
      "text": "轮播图表存储首页轮播图的配置信息。主键carousel_id，carousel_url存储轮播图图片URL，redirect_url存储点击跳转链接，carousel_rank排序值控制轮播图显示顺序，is_deleted逻辑删除标记。详细字段定义如表4-12所示。",
      "tablePath": "${tables}/Tab-tb_newbee_mall_carousel.json"
    },
    {
      "title": "首页配置表（tb_newbee_mall_index_config）",
      "text": "首页配置表存储首页推荐商品的配置信息。主键config_id，config_name配置名称，config_type配置类型区分热销商品、推荐商品、新品等不同展示区域，goods_id关联推荐的商品，redirect_url跳转链接，config_rank排序值。详细字段定义如表4-13所示。",
      "tablePath": "${tables}/Tab-tb_newbee_mall_index_config.json"
    }
  ]
}
