{
  "id": "4.3.2",
  "title": "商品管理模块设计",
  "word_limit": 500,
  "text": "placeholder",
  "imagePath": "${uml}/activity-goods.png",
  "imagePathSequence": "${uml}/sequence-goods.png",
  "_note": "三级章节，必须有text，包含活动图和时序图",
  "content": "商品管理模块负责商品信息的管理和查询，是电商系统的核心业务模块。模块的业务流程如图4-3所示，服务间交互如图4-4所示。\n\n商品信息管理功能提供商品的增删改查操作。管理员可以添加新商品，填写商品名称、描述、价格、库存、分类、图片等信息。商品图片上传到文件服务器或对象存储，数据库中保存图片URL。管理员可以编辑商品信息，修改价格、库存、描述等字段。商品支持上下架操作，下架的商品不在前台展示。商品删除采用逻辑删除，标记删除状态而不是物理删除数据，保留商品历史记录。\n\n商品分类管理采用树形结构。系统支持多级分类，如\"电子产品 > 手机 > 智能手机\"。分类信息包括分类ID、分类名称、父分类ID、排序号等字段。通过递归查询实现分类树的构建。前台展示时，用户可以按分类浏览商品，点击一级分类展开二级分类，依次浏览。\n\n商品查询功能支持多种查询方式。商品列表查询支持分页，每页显示固定数量的商品。支持按分类、价格区间、销量等条件筛选商品。支持按价格、销量、上架时间等字段排序。商品详情查询返回商品的完整信息，包括基本信息、库存信息、评价信息等。为提高查询性能，商品信息缓存在Redis中，设置合理的过期时间。缓存采用先查缓存、缓存未命中再查数据库的策略。\n\n商品搜索功能支持关键词搜索。用户输入关键词，系统在商品名称和描述中进行模糊匹配，返回相关商品列表。搜索结果按相关度排序，关键词高亮显示。搜索功能可以集成Elasticsearch实现全文检索，提供更强大的搜索能力和更好的性能。\n\n库存管理是商品模块的关键功能。系统维护商品的实时库存，下单时扣减库存，取消订单时恢复库存。为防止超卖，库存扣减采用数据库行锁或Redis分布式锁保证并发安全。库存不足时，商品显示\"无货\"状态，用户无法下单。\n\n商品服务提供的接口包括：商品增删改查、分类管理、商品查询、商品搜索、库存查询和扣减等。这些接口支撑了电商平台的商品展示和管理功能。"
}