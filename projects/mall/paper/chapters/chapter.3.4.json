{
  "id": "3.4",
  "title": "系统架构规划",
  "word_limit": 1000,
  "text": "placeholder",
  "imagePath": "${uml}/software-architecture.png",
  "_note": "二级章节，无子节点，包含架构图",
  "content": "基于对系统需求的深入分析，本系统采用微服务架构进行设计，整体架构如图3-2所示。系统架构分为前端层、网关层、服务层、数据层和基础设施层五个层次，各层协同工作，共同构建完整的电商系统。\n\n前端层采用前后端分离的设计模式。用户端采用Vue.js框架开发单页应用，提供商品浏览、购物下单、订单管理等功能。管理端同样基于Vue.js开发，提供商品管理、订单管理、用户管理等后台管理功能。前端通过HTTP协议与后端API进行交互，实现数据的展示和业务操作。前端应用可以部署在CDN上，加速静态资源的加载，提升用户访问速度。\n\n网关层是系统的统一入口，采用Spring Cloud Gateway实现API网关。网关负责请求路由、负载均衡、权限认证、限流控制等功能。所有来自前端的请求首先到达网关，网关根据请求路径将请求路由到相应的微服务。网关集成了JWT身份认证，对需要登录才能访问的接口进行权限校验。网关还实现了限流功能，通过令牌桶算法控制接口的访问频率，防止恶意请求和流量攻击。通过网关的统一管理，简化了前端调用，提高了系统的安全性。\n\n服务层是系统的核心，采用微服务架构将业务拆分为多个独立的服务。用户服务负责用户注册、登录、个人信息管理等功能；商品服务负责商品信息的管理、查询和搜索；订单服务负责订单的创建、查询和状态管理；购物车服务负责购物车的增删改查操作；推荐服务负责首页商品推荐和个性化推荐。各服务之间通过OpenFeign进行同步调用，实现服务间的协作。每个服务拥有独立的数据库，实现数据的隔离和服务的自治。服务采用Spring Boot框架开发，使用SSM（Spring + Spring MVC + MyBatis）技术栈实现业务逻辑。\n\n数据层负责系统数据的存储和管理。系统采用MySQL作为主数据库，每个微服务拥有独立的数据库实例，避免服务间的数据耦合。数据库采用InnoDB存储引擎，支持事务处理，保证数据的一致性。系统引入Redis缓存，用于缓存热点数据，如商品信息、用户会话、购物车数据等，大幅提升系统性能，降低数据库访问压力。对于需要跨服务访问的数据，通过服务接口调用的方式获取，而不是直接访问其他服务的数据库。\n\n基础设施层提供微服务运行所需的支撑服务。Nacos作为服务注册中心和配置中心，所有微服务启动时向Nacos注册，服务间调用通过Nacos进行服务发现。Nacos配置中心统一管理各服务的配置信息，支持配置的动态更新。Sentinel提供流量控制和熔断降级功能，保护服务免受流量洪峰冲击，防止服务雪崩。Seata作为分布式事务协调器，保证跨服务操作的数据一致性。这些基础设施共同构建了微服务治理体系，确保系统的高可用性和稳定性。\n\n整体架构采用了分层解耦、服务自治、统一治理的设计思想，既保证了系统的灵活性和可扩展性，又通过完善的基础设施保障了系统的稳定运行。"
}