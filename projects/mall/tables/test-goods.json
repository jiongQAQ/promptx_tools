{
  "id": "6.2.2",
  "title": "商品管理功能测试",
  "word_limit": 300,
  "text": "placeholder",
  "tablePath": "${tables}/test-goods.json",
  "_note": "三级章节，必须有text，包含测试用例表",
  "content": "商品管理功能测试验证商品信息管理、分类管理、商品查询、库存管理等功能。测试用例如表6-2所示。\n\n商品信息管理测试由管理员执行。添加商品测试：填写商品名称、描述、价格、库存、分类，上传商品图片，提交后系统创建商品记录，商品ID自动生成，图片上传成功并保存URL。修改商品测试：编辑商品信息，更新价格和库存，提交后数据库记录更新，缓存中的商品信息失效。删除商品测试：执行删除操作，商品deleted字段标记为1，前台不再展示该商品，但数据库记录保留。上下架测试：商品上架后status字段为1，前台可以查看；商品下架后status为0，前台不显示。\n\n分类管理测试验证分类的增删改查。添加一级分类，parent_id为0，level为1。添加二级分类，指定父分类，系统自动计算level为2。修改分类名称和排序号，系统更新成功。删除有子分类的分类，系统提示请先删除子分类，删除失败。删除有关联商品的分类，系统提示该分类下有商品，删除失败。删除空分类，系统删除成功。查询分类树，系统返回完整的树形结构，父子关系正确。\n\n商品查询测试验证多种查询方式。商品列表查询：不带条件查询返回所有上架商品，分页参数生效，每页数量正确。按分类筛选，只返回指定分类的商品。按价格区间筛选，返回价格在区间内的商品。按价格排序，返回结果按价格升序或降序排列。商品详情查询：根据商品ID查询，返回完整的商品信息。查询不存在的商品ID，返回商品不存在错误。商品搜索：输入关键词，返回名称或描述包含关键词的商品，关键词高亮显示。输入特殊字符，系统正确转义，防止SQL注入。\n\n库存管理测试重点验证并发安全性。单线程扣减库存，库存正确减少。并发扣减库存使用JMeter模拟100个并发请求，扣减总量等于请求数量乘以每次扣减数量，库存不会超卖。库存不足时扣减失败，返回库存不足提示。订单取消后恢复库存，库存数量正确恢复。缓存测试：首次查询商品从数据库加载，响应时间较长。再次查询从缓存读取，响应时间缩短到10ms以内。修改商品后缓存失效，下次查询重新加载。测试结果表明，商品管理功能实现完整，性能良好，并发场景下库存管理准确无误。",
  "sourceFile": "chapter.6.2.2.json",
  "extractedAt": "2025-10-01T18:47:31.147Z"
}