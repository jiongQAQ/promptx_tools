{
  "docId": "canteen-rating-thesis-chapter-5",
  "meta": {
    "title": "基于Spring Boot的校园食堂评价系统设计与实现",
    "theme": "校园食堂评价系",
    "chapter": 5,
    "originalDocId": "canteen-rating-thesis",
    "splitDate": "2025-09-25T01:37:02.805Z",
    "processDate": "2025-09-25T02:05:00.000Z"
  },
  "defaults": {
    "length": {
      "unit": "char",
      "target": 900
    },
    "textPromptTemplate": "撰写《{{sectionTitle}}》，围绕'校园食堂评价系'，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
    "figurePromptTemplate": "为《{{sectionTitle}}》生成 PlantUML 代码，仅输出合法完整代码。重点：{{figureFocus}}。",
    "tablePromptTemplate": "为《{{sectionTitle}}》生成三线表 JSON 数据。字段：{{schema}}。仅输出 JSON。",
    "figureLabelTemplate": "图{{chapter}}-{{index}} {{figureTitle}}",
    "tableLabelTemplate": "表{{chapter}}-{{index}} {{tableTitle}}"
  },
  "promptSnippets": {},
  "autoApply": [],
  "contents": {
    "5": {
      "id": "5",
      "title": "第5章 系统实现",
      "status": "completed",
      "length": {
        "unit": "char",
        "target": 600,
        "actual": 598
      },
      "plan": {
        "wantText": true
      },
      "textPrompt": "撰写《第5章 系统实现》，围绕'校园食堂评价系'，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "系统实现阶段是将详细设计转化为可运行软件系统的关键环节，本章详细阐述了校园食堂评价系统的具体实现过程和关键技术要点。实现过程严格遵循前期设计文档，采用Spring Boot 2.7.18作为后端核心框架，结合Vue 3.3.4构建前端用户界面，形成前后端分离的现代化Web应用架构。后端实现采用分层架构模式，通过Controller、Service、Mapper三层结构确保代码的清晰分离和高度可维护性。前端实现基于组件化开发思想，利用Element Plus UI组件库提升开发效率和用户体验。系统开发过程中充分利用现代化开发工具和环境，包括IntelliJ IDEA集成开发环境、Maven项目管理工具和Git版本控制系统。本章将从开发环境配置入手，逐一介绍各核心功能模块的具体实现方法，展示从设计到代码的完整转化过程。",
      "figures": [],
      "tables": []
    },
    "5.1": {
      "id": "5.1",
      "title": "系统开发环境和工具",
      "status": "completed",
      "length": {
        "unit": "char",
        "target": 900,
        "actual": 896
      },
      "plan": {
        "wantText": true
      },
      "textPrompt": "撰写《系统开发环境和工具》，围绕'校园食堂评价系'，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "系统开发采用标准化的企业级开发环境配置，确保开发过程的规范性和可重现性。操作系统选择Windows 11企业版，提供稳定的开发基础环境。Java开发环境配置Oracle JDK 17 LTS版本，充分利用其长期支持特性和新语言特性。集成开发环境采用IntelliJ IDEA 2024.1旗舰版，内置强大的代码提示、调试和重构功能，显著提升开发效率。项目构建工具使用Apache Maven 3.9.0，通过pom.xml文件管理项目依赖和构建过程，支持自动化构建和部署。数据库开发工具选用MySQL Workbench 8.0，提供可视化的数据库设计和管理功能。前端开发环境配置Node.js 18.17.0和npm包管理器，支持Vue.js生态系统的完整开发流程。代码编辑器使用Visual Studio Code，通过丰富的插件生态支持前端开发需求。版本控制系统采用Git 2.41.0，结合GitHub进行代码托管和团队协作。API测试工具选用Postman 10.15.0，支持RESTful API的开发调试和文档生成。系统部署环境准备包括Tomcat 9.0应用服务器和MySQL 8.0数据库服务器，确保开发环境与生产环境的一致性。",
      "figures": [],
      "tables": []
    },
    "5.2": {
      "id": "5.2",
      "title": "系统功能实现",
      "status": "completed",
      "length": {
        "unit": "char",
        "target": 600,
        "actual": 594
      },
      "plan": {
        "wantText": true
      },
      "textPrompt": "撰写《系统功能实现》，围绕'校园食堂评价系'，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "系统功能实现严格按照模块化设计原则，将复杂的业务逻辑分解为独立的功能模块进行开发。后端实现采用Spring Boot框架的自动配置特性，通过注解驱动的开发方式简化配置管理。数据访问层使用MyBatis Plus框架，提供强大的CRUD操作支持和动态SQL生成能力。业务逻辑层通过Service接口和实现类分离，确保业务规则的清晰表达和易于测试。控制层采用RESTful API设计风格，提供标准化的HTTP接口。前端实现基于Vue 3的Composition API，结合TypeScript提供类型安全保障。组件设计遵循单一职责原则，实现高度的复用性和可维护性。状态管理采用Pinia库，提供响应式的全局状态管理方案。各功能模块的实现充分考虑了异常处理、输入验证和安全防护等非功能性需求，确保系统的健壮性和安全性。",
      "figures": [],
      "tables": []
    },
    "5.2.1": {
      "id": "5.2.1",
      "title": "用户认证与权限管理的实现",
      "status": "completed",
      "length": {
        "unit": "char",
        "target": 900,
        "actual": 898
      },
      "plan": {
        "wantText": true
      },
      "textPrompt": "撰写《用户认证与权限管理的实现》，围绕'校园食堂评价系'，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "用户认证与权限管理模块的实现基于Spring Security框架，结合JWT技术构建无状态的认证体系。AuthController类负责处理登录请求，通过@PostMapping注解映射/api/auth/login端点。登录验证逻辑在UserService中实现，首先使用BCryptPasswordEncoder对用户输入密码进行哈希验证，确保密码安全性。JWT Token生成由JwtUtils工具类负责，使用HMAC SHA256算法对用户信息进行签名，Token有效期设置为7天。权限管理采用基于角色的访问控制模型，通过@PreAuthorize注解实现方法级权限控制。SecurityConfig配置类定义了安全策略，包括跨域请求处理、JWT过滤器配置和异常处理机制。JwtAuthenticationFilter实现了Token解析和用户身份验证，在每次请求时自动验证Token有效性。用户登录状态通过Redis缓存管理，提高验证性能并支持分布式部署。密码加密采用BCrypt算法，具有随机盐值特性，有效防止彩虹表攻击。登录失败次数限制功能通过Redis计数器实现，超过阈值后临时锁定账户。前端认证状态管理使用Pinia的authStore，自动处理Token存储和请求头注入。",
      "figures": [],
      "tables": []
    },
    "5.2.2": {
      "id": "5.2.2",
      "title": "菜品信息管理的实现",
      "status": "completed",
      "length": {
        "unit": "char",
        "target": 900,
        "actual": 894
      },
      "plan": {
        "wantText": true
      },
      "textPrompt": "撰写《菜品信息管理的实现》，围绕'校园食堂评价系'，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "菜品信息管理模块采用典型的MVC架构模式实现，DishController提供完整的CRUD操作接口。创建菜品功能通过@PostMapping注解的createDish方法实现，支持multipart/form-data格式的文件上传。图片上传处理使用FileService服务类，实现文件类型验证、大小限制和唯一文件名生成。上传的图片文件存储在/uploads/dishes目录下，数据库仅保存相对路径提高查询效率。菜品数据验证使用JSR-303注解，包括@NotBlank、@DecimalMin和@Size等约束注解，确保数据完整性。DishService业务层实现复杂的业务规则，如同档口菜品名称唯一性检查和价格合理性验证。数据访问层使用MyBatis Plus的BaseMapper接口，提供基础的CRUD操作。复杂查询通过@Select注解编写自定义SQL实现，支持分页查询和多条件筛选。菜品分类管理采用枚举类型设计，在DishCategory枚举中定义所有可用分类。缓存策略使用Spring Cache注解，对热点菜品数据进行Redis缓存。前端菜品管理页面使用Element Plus的表格组件，支持分页、排序和搜索功能。图片预览功能通过Vue的响应式数据绑定实现，提供良好的用户体验。",
      "figures": [],
      "tables": []
    },
    "5.2.3": {
      "id": "5.2.3",
      "title": "评价与评论系统的实现",
      "status": "completed",
      "length": {
        "unit": "char",
        "target": 900,
        "actual": 896
      },
      "plan": {
        "wantText": true
      },
      "textPrompt": "撰写《评价与评论系统的实现》，围绕'校园食堂评价系'，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "评价与评论系统的核心实现围绕RatingController和RatingService展开，提供完整的评价生命周期管理。评价提交接口通过@PostMapping映射，接收包含菜品ID、评分和评论内容的请求数据。业务验证逻辑包括用户登录状态检查、菜品存在性验证和重复评价防护，通过数据库唯一约束确保一个用户对同一菜品只能评价一次。敏感词过滤功能由SensitiveWordService实现，采用AC自动机算法进行高效的多模式字符串匹配。敏感词库存储在sensitive_words表中，支持动态更新和正则表达式匹配。评价数据持久化使用事务机制，确保评价记录插入和菜品统计更新的原子性操作。菜品评分统计计算在RatingService的calculateDishRating方法中实现，使用数据库聚合函数计算平均分和总评价数。评价状态管理支持待审核、已发布和已删除三种状态，通过枚举类型RatingStatus定义。前端评价组件使用Element Plus的评分组件，支持星级评分和文字评论输入。评价列表展示采用虚拟滚动技术，优化大数据量场景下的渲染性能。实时评分更新通过Vue的计算属性实现，自动响应评价数据变化。",
      "figures": [],
      "tables": []
    },
    "5.2.4": {
      "id": "5.2.4",
      "title": "投诉建议系统的实现",
      "status": "completed",
      "length": {
        "unit": "char",
        "target": 900,
        "actual": 902
      },
      "plan": {
        "wantText": true
      },
      "textPrompt": "撰写《投诉建议系统的实现》，围绕'校园食堂评价系'，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "投诉建议系统的实现采用状态机模式管理投诉生命周期，ComplaintController提供投诉的创建、查询和状态更新接口。投诉编号生成算法在ComplaintService的generateComplaintNo方法中实现，采用'CP'+年月日+四位序号的格式，通过数据库序列确保编号唯一性。投诉分类管理使用ComplaintType枚举类，包括食品质量、服务态度、环境卫生和价格争议等预定义类型。内容验证逻辑包括标题长度限制、描述内容检查和敏感词过滤，确保投诉内容的合规性。投诉状态转换通过ComplaintStatus枚举管理，包括待处理、处理中、已处理和已关闭四种状态，状态变更记录在complaint_logs表中实现审计跟踪。通知机制由NotificationService实现，支持邮件、短信和系统内消息三种通知方式。邮件通知使用Spring Boot Mail集成，配置SMTP服务器发送HTML格式的通知邮件。系统内消息通过WebSocket实现实时推送，确保管理员能及时收到新投诉通知。投诉处理界面采用工单系统设计，管理员可以添加处理备注、上传附件和变更处理状态。前端投诉列表支持多维度筛选和排序，使用Element Plus的表格组件实现数据展示。投诉详情页面采用时间线组件展示处理历程，提供完整的处理轨迹可视化。",
      "figures": [],
      "tables": []
    },
    "5.2.5": {
      "id": "5.2.5",
      "title": "数据统计分析的实现",
      "status": "completed",
      "length": {
        "unit": "char",
        "target": 900,
        "actual": 898
      },
      "plan": {
        "wantText": true
      },
      "textPrompt": "撰写《数据统计分析的实现》，围绕'校园食堂评价系'，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "数据统计分析模块通过StatisticsController和StatisticsService实现多维度的数据分析功能。统计查询引擎采用动态SQL生成技术，根据不同统计维度自动构建复杂的联表查询语句。食堂维度统计通过groupBy canteen_id实现，计算各食堂的平均评分、评价总数和菜品丰富度等关键指标。菜品维度统计关注热门菜品排名和评价分布，使用窗口函数ROW_NUMBER()实现排名计算。用户维度统计分析不同用户群体的行为模式，包括学生和教职工的评价活跃度对比。缓存策略采用分层缓存设计，Redis存储计算结果，本地缓存存储热点查询参数。缓存键设计采用统计维度+时间范围+参数哈希的组合模式，支持精确的缓存命中。统计结果导出功能使用Apache POI库生成Excel文件，EasyExcel库优化大数据量导出性能。PDF报告生成采用iText库，支持图表和表格的复合布局。前端数据可视化使用ECharts图表库，支持柱状图、饼图、折线图和散点图等多种图表类型。图表数据绑定通过Vue的响应式系统实现，统计数据更新时自动刷新图表显示。时间范围选择器采用Element Plus的日期选择组件，支持预设时间段和自定义时间范围。实时数据刷新通过定时器和WebSocket结合实现，确保统计数据的时效性。",
      "figures": [],
      "tables": []
    },
    "5.3": {
      "id": "5.3",
      "title": "本章小结",
      "status": "completed",
      "length": {
        "unit": "char",
        "target": 900,
        "actual": 896
      },
      "plan": {
        "wantText": true
      },
      "textPrompt": "撰写《本章小结》，围绕'校园食堂评价系'，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "本章全面阐述了校园食堂评价系统的具体实现过程，从开发环境配置到核心功能模块的代码实现，展现了从设计到代码的完整转化过程。开发环境采用现代化的企业级工具链，包括JDK 17、Spring Boot 2.7.18、Vue 3.3.4等主流技术栈，确保了开发过程的标准化和高效性。系统架构实现严格遵循分层设计原则，通过Controller、Service、Mapper三层结构实现了业务逻辑的清晰分离和高度可维护性。用户认证与权限管理模块采用JWT无状态认证机制，结合Spring Security框架提供了安全可靠的身份验证和权限控制。菜品信息管理模块通过文件上传、数据验证和缓存优化等技术实现了完整的CRUD操作。评价与评论系统集成了敏感词过滤和实时统计更新功能，确保了用户反馈的质量和数据一致性。投诉建议系统采用状态机模式和通知机制，建立了完善的问题反馈和处理流程。数据统计分析模块通过动态SQL生成和多层缓存策略，实现了高性能的多维度数据分析功能。整个实现过程充分体现了现代软件工程的最佳实践，为系统的稳定运行和后续维护奠定了坚实的技术基础。",
      "figures": [],
      "tables": []
    }
  }
}