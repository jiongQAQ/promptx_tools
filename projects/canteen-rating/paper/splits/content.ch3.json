{
  "docId": "canteen-rating-001-chapter-3",
  "meta": {
    "title": "餐厅评分系统设计与实现",
    "theme": "餐厅评分系统",
    "chapter": 3,
    "originalDocId": "canteen-rating-001",
    "splitDate": "2025-09-25T10:43:48.064Z"
  },
  "defaults": {
    "length": {
      "unit": "char",
      "target": 900
    },
    "textPromptTemplate": "撰写《{{sectionTitle}}》，围绕\"餐厅评分系统\"，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
    "figurePromptTemplate": "为《{{sectionTitle}}》生成 PlantUML 代码，仅输出合法完整代码。重点：{{figureFocus}}。",
    "tablePromptTemplate": "为《{{sectionTitle}}》生成三线表 JSON 数据。字段：{{schema}}。仅输出 JSON。",
    "figureLabelTemplate": "图{{chapter}}-{{index}} {{figureTitle}}",
    "tableLabelTemplate": "表{{chapter}}-{{index}} {{tableTitle}}"
  },
  "promptSnippets": {},
  "autoApply": [],
  "contents": {
    "3": {
      "id": "3",
      "title": "第3章 系统概要设计",
      "status": "planning",
      "mode": "single",
      "length": {
        "unit": "char",
        "target": 600
      },
      "plan": {
        "wantText": true,
        "wantFigure": false,
        "figurePlan": [],
        "wantTable": false,
        "tablePlan": []
      },
      "textPrompt": "撰写《第3章 系统概要设计》，围绕\"餐厅评分系统\"，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "",
      "figures": [],
      "tables": []
    },
    "3.1": {
      "id": "3.1",
      "title": "系统设计原则",
      "status": "planning",
      "mode": "single",
      "length": {
        "unit": "char",
        "target": 500
      },
      "plan": {
        "wantText": true,
        "wantFigure": false,
        "figurePlan": [],
        "wantTable": false,
        "tablePlan": []
      },
      "textPrompt": "撰写《系统设计原则》，围绕\"餐厅评分系统\"，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "",
      "figures": [],
      "tables": []
    },
    "3.2": {
      "id": "3.2",
      "title": "系统软件逻辑架构",
      "status": "planning",
      "mode": "single",
      "length": {
        "unit": "char",
        "target": 700
      },
      "plan": {
        "wantText": true,
        "wantFigure": true,
        "figurePlan": [
          {
            "enabled": true,
            "figureTitle": "系统架构图",
            "figureFocus": "@startwbs @endwbs格式的工作分解结构，展示功能层次：* 表示根节点，** 表示二级节点，*** 表示三级节点",
            "promptTemplate": "为《系统软件逻辑架构》生成 PlantUML 代码，仅输出合法完整代码。重点：@startwbs @endwbs格式的工作分解结构，展示功能层次：* 表示根节点，** 表示二级节点，*** 表示三级节点。"
          }
        ],
        "wantTable": false,
        "tablePlan": []
      },
      "textPrompt": "撰写《系统软件逻辑架构》，围绕\"餐厅评分系统\"，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "",
      "figures": [],
      "tables": []
    },
    "3.3": {
      "id": "3.3",
      "title": "系统功能框图",
      "status": "planning",
      "mode": "single",
      "length": {
        "unit": "char",
        "target": 700
      },
      "plan": {
        "wantText": true,
        "wantFigure": true,
        "figurePlan": [
          {
            "enabled": true,
            "figureTitle": "系统功能框图",
            "figureFocus": "@startwbs @endwbs格式的工作分解结构，展示功能层次：* 表示根节点，** 表示二级节点，*** 表示三级节点",
            "promptTemplate": "为《系统功能框图》生成 PlantUML 代码，仅输出合法完整代码。重点：@startwbs @endwbs格式的工作分解结构，展示功能层次：* 表示根节点，** 表示二级节点，*** 表示三级节点。"
          }
        ],
        "wantTable": false,
        "tablePlan": []
      },
      "textPrompt": "撰写《系统功能框图》，围绕\"餐厅评分系统\"，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "",
      "figures": [],
      "tables": []
    },
    "3.4": {
      "id": "3.4",
      "title": "系统数据库设计",
      "status": "planning",
      "mode": "single",
      "length": {
        "unit": "char",
        "target": 500
      },
      "plan": {
        "wantText": true,
        "wantFigure": false,
        "figurePlan": [],
        "wantTable": false,
        "tablePlan": []
      },
      "textPrompt": "撰写《系统数据库设计》，围绕\"餐厅评分系统\"，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "",
      "figures": [],
      "tables": []
    },
    "3.4.1": {
      "id": "3.4.1",
      "title": "数据库概念设计",
      "status": "planning",
      "mode": "list",
      "itemType": "entity",
      "subNumbering": "numeric",
      "length": {
        "unit": "char",
        "target": 600
      },
      "plan": {
        "wantText": true,
        "wantFigure": true,
        "figurePlan": [],
        "wantTable": true,
        "tablePlan": []
      },
      "textPrompt": "撰写《数据库概念设计》，围绕\"餐厅评分系统\"，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "",
      "figures": [],
      "items": [
        {
          "order": 1,
          "title": "canteens 实体（食堂表）",
          "render": {
            "as": "numbered"
          },
          "status": "planning",
          "length": {
            "unit": "char",
            "target": 400
          },
          "plan": {
            "wantText": true,
            "wantFigure": true,
            "figurePlan": [
              {
                "enabled": true,
                "figureTitle": "食堂表局部结构图",
                "figureFocus": "字段、约束及与其他实体的关系",
                "promptTemplate": "为《数据库概念设计—canteens 实体（食堂表）》生成 PlantUML 代码，仅输出合法完整代码。重点：字段、约束及与其他实体的关系。"
              }
            ],
            "wantTable": false,
            "tablePlan": []
          },
          "textPrompt": "食堂表实体主要包括食堂管理相关的字段，其中的属性有食堂名称、位置信息、开放时间、关闭时间等。食堂表实体图如下图，图3-1 食堂表实体图所示。",
          "text": "",
          "figures": [
            {
              "id": "Fig-canteens",
              "label": "图3-1 食堂表局部结构图",
              "type": "uml",
              "imagePath": "/Users/pc/Documents/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-canteens.svg",
              "status": "ready",
              "meta": {
                "source": "step-1.2"
              }
            }
          ],
          "tables": [],
          "meta": {
            "entityName": "canteens"
          }
        },
        {
          "order": 2,
          "title": "users 实体（用户表）",
          "render": {
            "as": "numbered"
          },
          "status": "planning",
          "length": {
            "unit": "char",
            "target": 400
          },
          "plan": {
            "wantText": true,
            "wantFigure": true,
            "figurePlan": [
              {
                "enabled": true,
                "figureTitle": "用户表局部结构图",
                "figureFocus": "字段、约束及与其他实体的关系",
                "promptTemplate": "为《数据库概念设计—users 实体（用户表）》生成 PlantUML 代码，仅输出合法完整代码。重点：字段、约束及与其他实体的关系。"
              }
            ],
            "wantTable": false,
            "tablePlan": []
          },
          "textPrompt": "用户表实体主要包括用户管理相关的字段，其中的属性有用户名、密码、邮箱、角色等。用户表实体图如下图，图3-2 用户表实体图所示。",
          "text": "",
          "figures": [
            {
              "id": "Fig-users",
              "label": "图3-2 用户表局部结构图",
              "type": "uml",
              "imagePath": "/Users/pc/Documents/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-users.svg",
              "status": "ready",
              "meta": {
                "source": "step-1.2"
              }
            }
          ],
          "tables": [],
          "meta": {
            "entityName": "users"
          }
        },
        {
          "order": 3,
          "title": "stalls 实体（档口表）",
          "render": {
            "as": "numbered"
          },
          "status": "planning",
          "length": {
            "unit": "char",
            "target": 400
          },
          "plan": {
            "wantText": true,
            "wantFigure": true,
            "figurePlan": [
              {
                "enabled": true,
                "figureTitle": "档口表局部结构图",
                "figureFocus": "字段、约束及与其他实体的关系",
                "promptTemplate": "为《数据库概念设计—stalls 实体（档口表）》生成 PlantUML 代码，仅输出合法完整代码。重点：字段、约束及与其他实体的关系。"
              }
            ],
            "wantTable": false,
            "tablePlan": []
          },
          "textPrompt": "档口表实体主要包括档口管理相关的字段，其中的属性有档口名称、所属食堂、位置信息等。档口表实体图如下图，图3-3 档口表实体图所示。",
          "text": "",
          "figures": [
            {
              "id": "Fig-stalls",
              "label": "图3-3 档口表局部结构图",
              "type": "uml",
              "imagePath": "/Users/pc/Documents/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-stalls.svg",
              "status": "ready",
              "meta": {
                "source": "step-1.2"
              }
            }
          ],
          "tables": [],
          "meta": {
            "entityName": "stalls"
          }
        },
        {
          "order": 4,
          "title": "dishes 实体（菜品表）",
          "render": {
            "as": "numbered"
          },
          "status": "planning",
          "length": {
            "unit": "char",
            "target": 400
          },
          "plan": {
            "wantText": true,
            "wantFigure": true,
            "figurePlan": [
              {
                "enabled": true,
                "figureTitle": "菜品表局部结构图",
                "figureFocus": "字段、约束及与其他实体的关系",
                "promptTemplate": "为《数据库概念设计—dishes 实体（菜品表）》生成 PlantUML 代码，仅输出合法完整代码。重点：字段、约束及与其他实体的关系。"
              }
            ],
            "wantTable": false,
            "tablePlan": []
          },
          "textPrompt": "菜品表实体主要包括菜品管理相关的字段，其中的属性有菜品名称、价格、所属档口、图片路径等。菜品表实体图如下图，图3-4 菜品表实体图所示。",
          "text": "",
          "figures": [
            {
              "id": "Fig-dishes",
              "label": "图3-4 菜品表局部结构图",
              "type": "uml",
              "imagePath": "/Users/pc/Documents/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-dishes.svg",
              "status": "ready",
              "meta": {
                "source": "step-1.2"
              }
            }
          ],
          "tables": [],
          "meta": {
            "entityName": "dishes"
          }
        },
        {
          "order": 5,
          "title": "ratings 实体（评分表）",
          "render": {
            "as": "numbered"
          },
          "status": "planning",
          "length": {
            "unit": "char",
            "target": 400
          },
          "plan": {
            "wantText": true,
            "wantFigure": true,
            "figurePlan": [
              {
                "enabled": true,
                "figureTitle": "评分表局部结构图",
                "figureFocus": "字段、约束及与其他实体的关系",
                "promptTemplate": "为《数据库概念设计—ratings 实体（评分表）》生成 PlantUML 代码，仅输出合法完整代码。重点：字段、约束及与其他实体的关系。"
              }
            ],
            "wantTable": false,
            "tablePlan": []
          },
          "textPrompt": "评分表实体主要包括评分管理相关的字段，其中的属性有用户ID、菜品ID、评分、评论内容等。评分表实体图如下图，图3-5 评分表实体图所示。",
          "text": "",
          "figures": [
            {
              "id": "Fig-ratings",
              "label": "图3-5 评分表局部结构图",
              "type": "uml",
              "imagePath": "/Users/pc/Documents/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-ratings.svg",
              "status": "ready",
              "meta": {
                "source": "step-1.2"
              }
            }
          ],
          "tables": [],
          "meta": {
            "entityName": "ratings"
          }
        },
        {
          "order": 6,
          "title": "complaints 实体（投诉表）",
          "render": {
            "as": "numbered"
          },
          "status": "planning",
          "length": {
            "unit": "char",
            "target": 400
          },
          "plan": {
            "wantText": true,
            "wantFigure": true,
            "figurePlan": [
              {
                "enabled": true,
                "figureTitle": "投诉表局部结构图",
                "figureFocus": "字段、约束及与其他实体的关系",
                "promptTemplate": "为《数据库概念设计—complaints 实体（投诉表）》生成 PlantUML 代码，仅输出合法完整代码。重点：字段、约束及与其他实体的关系。"
              }
            ],
            "wantTable": false,
            "tablePlan": []
          },
          "textPrompt": "投诉表实体主要包括投诉管理相关的字段，其中的属性有投诉用户ID、投诉内容、处理状态、处理结果等。投诉表实体图如下图，图3-6 投诉表实体图所示。",
          "text": "",
          "figures": [
            {
              "id": "Fig-complaints",
              "label": "图3-6 投诉表局部结构图",
              "type": "uml",
              "imagePath": "/Users/pc/Documents/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-complaints.svg",
              "status": "ready",
              "meta": {
                "source": "step-1.2"
              }
            }
          ],
          "tables": [],
          "meta": {
            "entityName": "complaints"
          }
        },
        {
          "order": 7,
          "title": "sensitive_words 实体（敏感词表）",
          "render": {
            "as": "numbered"
          },
          "status": "planning",
          "length": {
            "unit": "char",
            "target": 400
          },
          "plan": {
            "wantText": true,
            "wantFigure": true,
            "figurePlan": [
              {
                "enabled": true,
                "figureTitle": "敏感词表局部结构图",
                "figureFocus": "字段、约束及与其他实体的关系",
                "promptTemplate": "为《数据库概念设计—sensitive_words 实体（敏感词表）》生成 PlantUML 代码，仅输出合法完整代码。重点：字段、约束及与其他实体的关系。"
              }
            ],
            "wantTable": false,
            "tablePlan": []
          },
          "textPrompt": "敏感词表实体主要包括敏感词管理相关的字段，其中的属性有敏感词内容、类别、状态等。敏感词表实体图如下图，图3-7 敏感词表实体图所示。",
          "text": "",
          "figures": [
            {
              "id": "Fig-sensitive_words",
              "label": "图3-7 敏感词表局部结构图",
              "type": "uml",
              "imagePath": "/Users/pc/Documents/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-sensitive_words.svg",
              "status": "ready",
              "meta": {
                "source": "step-1.2"
              }
            }
          ],
          "tables": [],
          "meta": {
            "entityName": "sensitive_words"
          }
        }
      ],
      "tables": []
    },
    "3.4.2": {
      "id": "3.4.2",
      "title": "数据库逻辑设计",
      "status": "planning",
      "mode": "list",
      "itemType": "tableStructure",
      "subNumbering": "numeric",
      "length": {
        "unit": "char",
        "target": 600
      },
      "plan": {
        "wantText": true,
        "wantFigure": false,
        "figurePlan": [],
        "wantTable": true,
        "tablePlan": []
      },
      "textPrompt": "撰写《数据库逻辑设计》描述数据库总体设计思路和表结构规范，围绕\"餐厅评分系统\"，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "",
      "items": [
        {
          "order": 1,
          "title": "canteens 表（食堂表）",
          "render": {
            "as": "numbered"
          },
          "status": "planning",
          "length": {
            "unit": "char",
            "target": 300
          },
          "plan": {
            "wantText": true,
            "wantFigure": false,
            "figurePlan": [],
            "wantTable": true,
            "tablePlan": []
          },
          "textPrompt": "1. 食堂表，主要储存了本系统食堂管理的相关信息，其中包含编号 (id)、食堂名称 (name)、位置信息 (location)、开放时间 (open_time)、关闭时间 (close_time)、创建时间 (created_time)、更新时间 (updated_time)、删除标记 (is_deleted)，食堂表的数据库设计如下表，表3-1 食堂表 canteens所示。",
          "text": "",
          "figures": [],
          "tables": [
            {
              "id": "Tab-canteens",
              "label": "表3-1 食堂表 canteens",
              "type": "table",
              "dataPath": "/Users/pc/Documents/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-canteens.json",
              "status": "ready",
              "meta": {
                "source": "step-1.1"
              }
            }
          ],
          "meta": {}
        },
        {
          "order": 2,
          "title": "users 表（用户表）",
          "render": {
            "as": "numbered"
          },
          "status": "planning",
          "length": {
            "unit": "char",
            "target": 300
          },
          "plan": {
            "wantText": true,
            "wantFigure": false,
            "figurePlan": [],
            "wantTable": true,
            "tablePlan": []
          },
          "textPrompt": "2. 用户表，主要储存了本系统用户管理的相关信息，其中包含编号 (id)、用户名 (username)、密码 (password)、邮箱 (email)、角色 (role)、创建时间 (created_time)、更新时间 (updated_time)、删除标记 (is_deleted)，用户表的数据库设计如下表，表3-2 用户表 users所示。",
          "text": "",
          "figures": [],
          "tables": [
            {
              "id": "Tab-users",
              "label": "表3-2 用户表 users",
              "type": "table",
              "dataPath": "/Users/pc/Documents/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-users.json",
              "status": "ready",
              "meta": {
                "source": "step-1.1"
              }
            }
          ],
          "meta": {}
        },
        {
          "order": 3,
          "title": "stalls 表（档口表）",
          "render": {
            "as": "numbered"
          },
          "status": "planning",
          "length": {
            "unit": "char",
            "target": 300
          },
          "plan": {
            "wantText": true,
            "wantFigure": false,
            "figurePlan": [],
            "wantTable": true,
            "tablePlan": []
          },
          "textPrompt": "3. 档口表，主要储存了本系统档口管理的相关信息，其中包含编号 (id)、档口名称 (name)、所属食堂ID (canteen_id)、位置信息 (location)、创建时间 (created_time)、更新时间 (updated_time)、删除标记 (is_deleted)，档口表的数据库设计如下表，表3-3 档口表 stalls所示。",
          "text": "",
          "figures": [],
          "tables": [
            {
              "id": "Tab-stalls",
              "label": "表3-3 档口表 stalls",
              "type": "table",
              "dataPath": "/Users/pc/Documents/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-stalls.json",
              "status": "ready",
              "meta": {
                "source": "step-1.1"
              }
            }
          ],
          "meta": {}
        },
        {
          "order": 4,
          "title": "dishes 表（菜品表）",
          "render": {
            "as": "numbered"
          },
          "status": "planning",
          "length": {
            "unit": "char",
            "target": 300
          },
          "plan": {
            "wantText": true,
            "wantFigure": false,
            "figurePlan": [],
            "wantTable": true,
            "tablePlan": []
          },
          "textPrompt": "4. 菜品表，主要储存了本系统菜品管理的相关信息，其中包含编号 (id)、菜品名称 (name)、价格 (price)、所属档口ID (stall_id)、图片路径 (image_path)、描述 (description)、创建时间 (created_time)、更新时间 (updated_time)、删除标记 (is_deleted)，菜品表的数据库设计如下表，表3-4 菜品表 dishes所示。",
          "text": "",
          "figures": [],
          "tables": [
            {
              "id": "Tab-dishes",
              "label": "表3-4 菜品表 dishes",
              "type": "table",
              "dataPath": "/Users/pc/Documents/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-dishes.json",
              "status": "ready",
              "meta": {
                "source": "step-1.1"
              }
            }
          ],
          "meta": {}
        },
        {
          "order": 5,
          "title": "ratings 表（评分表）",
          "render": {
            "as": "numbered"
          },
          "status": "planning",
          "length": {
            "unit": "char",
            "target": 300
          },
          "plan": {
            "wantText": true,
            "wantFigure": false,
            "figurePlan": [],
            "wantTable": true,
            "tablePlan": []
          },
          "textPrompt": "5. 评分表，主要储存了本系统评分管理的相关信息，其中包含编号 (id)、用户ID (user_id)、菜品ID (dish_id)、评分 (score)、评论内容 (comment)、创建时间 (created_time)、更新时间 (updated_time)、删除标记 (is_deleted)，评分表的数据库设计如下表，表3-5 评分表 ratings所示。",
          "text": "",
          "figures": [],
          "tables": [
            {
              "id": "Tab-ratings",
              "label": "表3-5 评分表 ratings",
              "type": "table",
              "dataPath": "/Users/pc/Documents/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-ratings.json",
              "status": "ready",
              "meta": {
                "source": "step-1.1"
              }
            }
          ],
          "meta": {}
        },
        {
          "order": 6,
          "title": "complaints 表（投诉表）",
          "render": {
            "as": "numbered"
          },
          "status": "planning",
          "length": {
            "unit": "char",
            "target": 300
          },
          "plan": {
            "wantText": true,
            "wantFigure": false,
            "figurePlan": [],
            "wantTable": true,
            "tablePlan": []
          },
          "textPrompt": "6. 投诉表，主要储存了本系统投诉管理的相关信息，其中包含编号 (id)、投诉用户ID (user_id)、投诉内容 (content)、处理状态 (status)、处理结果 (result)、创建时间 (created_time)、更新时间 (updated_time)、删除标记 (is_deleted)，投诉表的数据库设计如下表，表3-6 投诉表 complaints所示。",
          "text": "",
          "figures": [],
          "tables": [
            {
              "id": "Tab-complaints",
              "label": "表3-6 投诉表 complaints",
              "type": "table",
              "dataPath": "/Users/pc/Documents/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-complaints.json",
              "status": "ready",
              "meta": {
                "source": "step-1.1"
              }
            }
          ],
          "meta": {}
        },
        {
          "order": 7,
          "title": "sensitive_words 表（敏感词表）",
          "render": {
            "as": "numbered"
          },
          "status": "planning",
          "length": {
            "unit": "char",
            "target": 300
          },
          "plan": {
            "wantText": true,
            "wantFigure": false,
            "figurePlan": [],
            "wantTable": true,
            "tablePlan": []
          },
          "textPrompt": "7. 敏感词表，主要储存了本系统敏感词管理的相关信息，其中包含编号 (id)、敏感词内容 (word)、类别 (category)、状态 (status)、创建时间 (created_time)、更新时间 (updated_time)、删除标记 (is_deleted)，敏感词表的数据库设计如下表，表3-7 敏感词表 sensitive_words所示。",
          "text": "",
          "figures": [],
          "tables": [
            {
              "id": "Tab-sensitive_words",
              "label": "表3-7 敏感词表 sensitive_words",
              "type": "table",
              "dataPath": "/Users/pc/Documents/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-sensitive_words.json",
              "status": "ready",
              "meta": {
                "source": "step-1.1"
              }
            }
          ],
          "meta": {}
        }
      ],
      "figures": [],
      "tables": []
    },
    "3.5": {
      "id": "3.5",
      "title": "本章小结",
      "status": "planning",
      "mode": "single",
      "length": {
        "unit": "char",
        "target": 300
      },
      "plan": {
        "wantText": true,
        "wantFigure": false,
        "figurePlan": [],
        "wantTable": false,
        "tablePlan": []
      },
      "textPrompt": "撰写《本章小结》，围绕\"餐厅评分系统\"，结合源码结构、关键模块与数据流，语言学术化，避免口语化。",
      "text": "",
      "figures": [],
      "tables": []
    }
  }
}