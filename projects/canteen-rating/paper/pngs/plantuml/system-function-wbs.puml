@startuml
!theme plain
skinparam componentStyle rectangle
skinparam backgroundColor White
skinparam component {
  BackgroundColor #F5F5F5
  BorderColor #424242
  FontSize 12
}
skinparam package {
  BackgroundColor #E3F2FD
  BorderColor #1976D2
  FontSize 13
}
skinparam arrow {
  Color #1976D2
  FontSize 10
}
skinparam linetype ortho

package "食堂评价管理系统" as MainSystem {

  package "基础层" as BaseLayer {
    component [用户认证管理] as AuthModule {
      portin "用户注册"
      portin "登录验证"
      portin "权限控制"
      portin "会话管理"
    }
    note bottom of AuthModule : 系统安全的第一道防线\n为其他模块提供身份认证和授权服务
  }

  package "核心业务层" as CoreLayer {
    component [菜品评分管理] as RatingModule {
      portin "菜品信息展示"
      portin "用户评分提交"
      portin "评价内容管理"
      portin "评分统计分析"
    }

    component [食堂档口管理] as StallModule {
      portin "食堂信息维护"
      portin "档口数据管理"
      portin "菜品分类配置"
      portin "营业状态控制"
    }

    component [投诉建议管理] as ComplaintModule {
      portin "投诉提交"
      portin "问题分类"
      portin "处理流程跟踪"
      portin "结果反馈"
    }

    note bottom of RatingModule : 系统的核心业务模块\n直接服务于用户的评价需求
    note bottom of StallModule : 基础数据管理职责\n为评价业务提供数据支撑
    note bottom of ComplaintModule : 用户反馈处理机制\n保障用户权益表达渠道
  }

  package "决策支持层" as AnalysisLayer {
    component [系统统计管理] as StatModule {
      portin "评价数据统计"
      portin "趋势分析"
      portin "报表生成"
      portin "业务洞察"
    }
    note bottom of StatModule : 数据分析决策支持\n为管理者提供科学决策依据
  }
}

' 模块间依赖关系
AuthModule --> RatingModule : 身份认证
AuthModule --> StallModule : 权限控制
AuthModule --> ComplaintModule : 用户验证
AuthModule --> StatModule : 访问授权

StallModule --> RatingModule : 基础数据
RatingModule --> StatModule : 评价数据
ComplaintModule --> StatModule : 投诉数据

' WBS层次关系
BaseLayer -[hidden]-> CoreLayer
CoreLayer -[hidden]-> AnalysisLayer

note top of MainSystem : WBS工作分解结构\n五大核心功能模块\n形成完整的业务功能体系

@enduml