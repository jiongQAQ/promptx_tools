{
  "id": "5.5.2",
  "title": "实现过程",
  "text": "投诉管理模块的后端实现在投诉控制器中，提供用户投诉接口和管理员处理接口。用户提交投诉时，服务实现类保存投诉信息，初始状态为待处理，触发通知逻辑向管理员发送通知。管理员查询投诉列表支持按状态、类型、时间筛选和按优先级排序。处理投诉时填写处理结果，更新状态为已处理并记录处理时间。前端用户界面使用表单组件实现投诉提交，投诉列表使用卡片组件展示。管理员界面使用表格组件展示投诉列表，抽屉组件展示详情和处理表单。",
  "word_limit": 300,
  "imagePath": "${impl}/impl-complaint.png",
  "content": "投诉管理模块的实现重点在于状态流转和通知机制。后端投诉控制器提供用户投诉接口和管理员处理接口。用户提交投诉接口接收投诉数据，包含投诉类型、对象ID、内容、图片等。Service层验证内容长度和图片数量，创建投诉实体并设置初始状态为待处理。保存成功后触发通知逻辑，通过消息服务向管理员发送站内消息。\n\n管理员查询投诉列表接口支持多维度筛选，使用查询构造器构造查询条件，按状态、类型、时间范围筛选，按最新时间排序。视图对象关联查询用户昵称和投诉对象名称。管理员处理投诉接口接收处理结果数据，更新状态为已处理，记录处理结果和时间，计算处理时长，向投诉用户发送处理完成通知。\n\n前端用户投诉提交页使用表单组件，包含类型选择器、对象级联选择器、内容文本域（限制字数）、图片上传（限制数量）。投诉历史页使用卡片组件展示投诉列表，不同状态显示不同颜色标签，点击卡片展开显示详情和处理结果。管理员处理界面使用表格组件展示列表，抽屉组件显示详情和处理表单，管理员填写处理结果并提交。",
  "docx_type": "subsection_title",
  "docx_type_text": "body_text",
  "docx_type_desc": "body_text"
}
