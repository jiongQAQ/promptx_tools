{
  "id": "4.3",
  "title": "系统访问流程",
  "text": "系统访问流程描述了数据在各个功能模块之间的流转过程。本系统采用前后端分离架构，用户通过浏览器访问Vue前端应用，前端通过Axios发送HTTP请求到Spring Boot后端API，后端经过JWT认证、权限验证、业务逻辑处理和数据库操作后返回JSON响应给前端，前端根据响应数据更新UI展示。系统的核心数据流包括：用户认证流程、食堂档口数据查询流程、菜品评价提交流程、投诉处理流程等。下面通过数据流图（DFD）展示各功能模块的数据流转细节。",
  "word_limit": 220,
  "imagePath": "${dfd}/dfd-top-level.png",
  "content": "系统访问流程描述了用户请求在系统各层之间的完整流转过程，以及数据在各个功能模块之间的交互关系。本系统采用前后端分离的架构模式，前端与后端通过HTTP协议进行通信，数据交换采用JSON格式。\n\n完整的系统访问流程如下：用户通过浏览器访问系统的Vue 3前端单页面应用（SPA），前端页面加载后，通过Vue Router实现页面路由和导航。当用户进行操作（如查询菜品、提交评价）时，前端通过Axios HTTP客户端库向Spring Boot后端发送异步请求。请求到达后端后，首先经过JWT认证过滤器（JwtAuthenticationFilter）的拦截，过滤器从请求头中提取JWT令牌，验证令牌的签名有效性和是否过期，若验证通过则解析令牌提取用户信息，并将用户信息设置到Spring Security的安全上下文（SecurityContext）中。接着，请求经过Spring Security的权限验证，根据用户角色判断是否有权访问该接口。通过认证和授权后，请求到达Controller层，Controller接收请求参数，进行参数校验，调用Service层的业务逻辑方法。Service层处理具体的业务逻辑，如数据验证、业务规则判断、敏感词过滤等，然后调用Mapper层访问数据库。Mapper层通过MyBatis Plus执行SQL语句，完成数据的查询或修改操作。数据库操作完成后，结果逐层返回，Service层将数据封装成DTO或VO对象返回给Controller层，Controller层将结果封装成统一的JSON响应格式（包含状态码、消息、数据等）返回给前端。前端接收到响应后，根据响应数据更新UI界面，展示给用户。\n\n系统的核心数据流程包括多个典型场景。用户认证流程中，用户提交登录表单，后端验证用户名密码，生成JWT令牌返回，前端保存令牌到localStorage。食堂档口数据查询流程中，前端请求食堂列表，后端从数据库查询数据并返回，前端渲染列表展示。菜品评价提交流程中，用户填写评价表单，前端发送评价数据，后端进行敏感词过滤，保存评价到数据库，更新菜品平均分。投诉处理流程中，用户提交投诉，管理员查看投诉列表，处理投诉并填写结果，系统更新投诉状态通知用户。\n\n下面通过数据流图（DFD）详细展示各功能模块内部的数据流转过程，包括数据的来源、处理步骤和存储位置。",
  "docx_type": "section_title",
  "docx_type_text": "body_text",
  "docx_type_desc": "body_text"
}