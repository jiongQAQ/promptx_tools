{
  "id": "4.2.1",
  "title": "概念结构设计",
  "text": "数据库概念设计阶段识别出系统的核心实体及其属性和关系。本系统包含用户（User）、食堂（Canteen）、档口（Stall）、菜品（Dish）、评价（Rating）、投诉（Complaint）和敏感词（SensitiveWord）等核心实体。实体之间的关系包括：一个食堂包含多个档口（1:N），一个档口提供多个菜品（1:N），一个用户可提交多条评价和投诉（1:N），一条评价对应一个菜品（N:1）。所有实体均包含创建时间、更新时间和逻辑删除标记等审计字段。下面按实体逐一展示概念设计的ER图。",
  "word_limit": 220,
  "content": "数据库概念设计是数据库设计的重要阶段，主要任务是从用户需求中识别出系统的核心实体、实体的属性以及实体之间的联系，建立系统的概念模型，通常使用实体关系图（ER图）进行表示。概念设计阶段独立于具体的数据库管理系统，关注的是数据本身的语义和结构。\n\n通过对食堂评价系统需求的分析，识别出系统包含以下核心实体：用户（User）实体表示系统的使用者，包括普通用户、食堂管理员和系统管理员；食堂（Canteen）实体表示学校内的各个食堂；档口（Stall）实体表示食堂内的各个档口；菜品（Dish）实体表示档口提供的菜品；评价（Rating）实体表示用户对菜品的评价信息；投诉（Complaint）实体表示用户提交的投诉信息；敏感词（SensitiveWord）实体用于存储系统的敏感词库。\n\n实体之间存在以下主要联系：一个食堂可以包含多个档口，档口与食堂之间是多对一的关系；一个档口可以提供多个菜品，菜品与档口之间是多对一的关系；一个用户可以提交多条评价，评价与用户之间是多对一的关系；一个菜品可以被多个用户评价，评价与菜品之间是多对一的关系；一个用户可以提交多个投诉，投诉与用户之间是多对一的关系。\n\n为了支持数据审计和逻辑删除功能，所有实体均包含创建时间（create_time）、更新时间（update_time）和逻辑删除标记（is_deleted）等审计字段。创建时间记录数据的创建时间，更新时间记录数据的最后修改时间，逻辑删除标记用于实现数据的软删除，被标记删除的数据不会从数据库中物理删除，而是通过标记进行逻辑隐藏，便于数据恢复和追溯。\n\n下面按实体逐一展示概念设计的实体关系图，详细说明每个实体的属性和含义。",
  "items": [
    {
      "title": "用户实体（User）",
      "text": "用户表（user），主要存储了本系统用户基本信息和认证信息的相关数据，其中包含用户ID（id）、用户名（username）、密码（password）、昵称（nickname）、头像（avatar）、邮箱（email）、手机号（phone）、角色（role）、状态（status）、创建时间（create_time）、更新时间（update_time）、逻辑删除标记（is_deleted）。用户实体是系统的核心实体，与评价、投诉等实体存在一对多关系。",
      "word_limit": 70,
      "imagePath": "${er}/Tab-users.svg"
    },
    {
      "title": "食堂实体（Canteen）",
      "text": "食堂表（canteen），主要存储了本系统食堂基本信息的相关数据，其中包含食堂ID（id）、食堂名称（name）、位置（location）、简介（description）、图片（image）、营业时间（opening_hours）、联系电话（phone）、状态（status）、创建时间（create_time）、更新时间（update_time）、逻辑删除标记（is_deleted）。食堂与档口存在一对多关系。",
      "word_limit": 70,
      "imagePath": "${er}/Tab-canteens.svg"
    },
    {
      "title": "档口实体（Stall）",
      "text": "档口表（stall），主要存储了本系统档口信息的相关数据，其中包含档口ID（id）、档口名称（name）、所属食堂ID（canteen_id）、简介（description）、图片（image）、位置（location）、联系方式（contact）、状态（status）、创建时间（create_time）、更新时间（update_time）、逻辑删除标记（is_deleted）。档口实体通过canteen_id外键关联食堂实体，与菜品存在一对多关系。",
      "word_limit": 70,
      "imagePath": "${er}/Tab-stalls.svg"
    },
    {
      "title": "菜品实体（Dish）",
      "text": "菜品表（dish），主要存储了本系统菜品信息的相关数据，其中包含菜品ID（id）、菜品名称（name）、所属档口ID（stall_id）、分类（category）、价格（price）、图片（image）、描述（description）、是否推荐（is_recommended）、上架状态（status）、创建时间（create_time）、更新时间（update_time）、逻辑删除标记（is_deleted）。菜品实体通过stall_id外键关联档口实体，与评价存在一对多关系。",
      "word_limit": 70,
      "imagePath": "${er}/Tab-dishes.svg"
    },
    {
      "title": "评价实体（Rating）",
      "text": "评价表（rating），主要存储了本系统用户评价信息的相关数据，其中包含评价ID（id）、用户ID（user_id）、菜品ID（dish_id）、评分（score）、评价内容（content）、图片（images）、审核状态（status）、创建时间（create_time）、更新时间（update_time）、逻辑删除标记（is_deleted）。评价实体通过user_id和dish_id外键分别关联用户和菜品实体。",
      "word_limit": 70,
      "imagePath": "${er}/Tab-ratings.svg"
    },
    {
      "title": "投诉实体（Complaint）",
      "text": "投诉表（complaint），主要存储了本系统用户投诉信息的相关数据，其中包含投诉ID（id）、用户ID（user_id）、投诉类型（type）、投诉对象ID（target_id）、投诉内容（content）、图片（images）、处理状态（status）、处理结果（result）、处理时间（handle_time）、创建时间（create_time）、更新时间（update_time）、逻辑删除标记（is_deleted）。投诉实体通过user_id外键关联用户实体。",
      "word_limit": 70,
      "imagePath": "${er}/Tab-complaints.svg"
    },
    {
      "title": "敏感词实体（SensitiveWord）",
      "text": "敏感词表（sensitive_word），主要存储了本系统敏感词管理的相关数据，其中包含敏感词ID（id）、敏感词内容（word）、类型（type）、状态（status）、创建时间（create_time）、更新时间（update_time）、逻辑删除标记（is_deleted）。敏感词实体用于评价内容的审核过滤。",
      "word_limit": 70,
      "imagePath": "${er}/Tab-sensitive_words.svg"
    }
  ]
}