{
  "id": "4.2",
  "title": "数据库详细设计",
  "text": "详细设计核心数据表结构，明确字段类型、约束条件、索引设计、数据关系等数据库实现细节。",
  "prompt": "请基于源码和论文主题，撰写《数据库详细设计》的正文，要求学术化表达，详细说明数据库表结构的设计细节和实现规范，确保涵盖text中的要点，字数参考word_limit配置。",
  "word_limit": 350,
  "content": "数据库详细设计基于MySQL 8.0进行，遵循第三范式设计原则，确保数据一致性和完整性。设计涵盖用户管理、食堂管理、档口管理、菜品管理、评分管理、投诉处理、内容审核等七个核心业务领域的完整数据表结构。索引设计方面，除主键索引外，创建外键索引提升关联查询性能，为frequently查询字段建立普通索引，为统计查询建立复合索引。约束条件包括外键约束保证数据完整性、CHECK约束限制数据范围、NOT NULL约束确保必填字段。采用InnoDB存储引擎支持事务和外键约束，字符集使用utf8mb4支持全字符集存储。",
  "items": [
    {
      "title": "用户表",
      "text": "用户表，主要储存了本系统用户的相关信息，其中包含编号 (id)、用户名 (username)、密码 (password)、角色 (role)、创建时间 (created_time)、更新时间 (updated_time)、是否删除 (is_deleted)，用户表的数据库设计如下表，表4-1 用户表 user所示。",
      "tablePath": "/Users/jiongjiong/Documents/a_git_project/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-user.json",
      "prompt": "请基于源码和论文主题，撰写《用户表》的正文，要求学术化表达，详细说明用户表的字段设计和约束条件，并在正文中结合三线表说明该表的数据结构和业务逻辑，确保涵盖text中的要点，字数参考word_limit配置。",
      "content": "用户表，主要储存了本系统用户的相关信息，其中包含编号 (id)、用户名 (username)、real名称 (real_name)、密码 (password)、role (role)、创建时间 (created_time)、更新时间 (updated_time)、是否Deleted (is_deleted)，用户表的数据库设计如下表，表4-1 用户表 user所示。",
      "word_limit": 70
    },
    {
      "title": "食堂表",
      "text": "食堂表，主要储存了本系统食堂的相关信息，其中包含编号 (id)、名称 (name)、地址 (address)、联系方式 (contact)、营业时间 (business_hours)、状态 (status)、创建时间 (created_time)、更新时间 (updated_time)，食堂表的数据库设计如下表，表4-2 食堂表 canteen所示。",
      "tablePath": "/Users/jiongjiong/Documents/a_git_project/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-canteen.json",
      "prompt": "请基于源码和论文主题，撰写《食堂表》的正文，要求学术化表达，详细说明食堂表的字段设计和约束条件，并在正文中结合三线表说明该表的数据结构和业务逻辑，确保涵盖text中的要点，字数参考word_limit配置。",
      "content": "食堂表，主要储存了本系统食堂的相关信息，其中包含编号 (id)、名称 (name)、位置 (location)、open时间 (open_time)、close时间 (close_time)、创建时间 (created_time)、更新时间 (updated_time)、是否Deleted (is_deleted)，食堂表的数据库设计如下表，表4-2 食堂表 canteen所示。",
      "word_limit": 70
    },
    {
      "title": "档口表",
      "text": "档口表，主要储存了本系统档口的相关信息，其中包含编号 (id)、名称 (name)、食堂编号 (canteen_id)、联系方式 (contact)、营业时间 (business_hours)、状态 (status)、创建时间 (created_time)，档口表的数据库设计如下表，表4-3 档口表 stall所示。",
      "tablePath": "/Users/jiongjiong/Documents/a_git_project/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-stall.json",
      "prompt": "请基于源码和论文主题，撰写《档口表》的正文，要求学术化表达，详细说明档口表的字段设计和约束条件，并在正文中结合三线表说明该表的数据结构和业务逻辑，确保涵盖text中的要点，字数参考word_limit配置。",
      "content": "档口表，主要储存了本系统档口的相关信息，其中包含编号 (id)、食堂编号 (canteen_id)、名称 (name)、描述 (description)、创建时间 (created_time)、更新时间 (updated_time)、是否Deleted (is_deleted)，档口表的数据库设计如下表，表4-3 档口表 stall所示。",
      "word_limit": 70
    },
    {
      "title": "菜品表",
      "text": "菜品表，主要储存了本系统菜品的相关信息，其中包含编号 (id)、名称 (name)、档口编号 (stall_id)、发布时间 (publish_date)、价格 (price)、描述 (description)、图片路径 (image_path)、平均评分 (average_rating)、评分数量 (rating_count)、创建时间 (created_time)、更新时间 (updated_time)、是否删除 (is_deleted)，菜品表的数据库设计如下表，表4-4 菜品表 dish所示。",
      "tablePath": "/Users/jiongjiong/Documents/a_git_project/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-dish.json",
      "prompt": "请基于源码和论文主题，撰写《菜品表》的正文，要求学术化表达，详细说明菜品表的字段设计和约束条件，并在正文中结合三线表说明该表的数据结构和业务逻辑，确保涵盖text中的要点，字数参考word_limit配置。",
      "content": "菜品表，主要储存了本系统菜品的相关信息，其中包含编号 (id)、名称 (name)、档口编号 (stall_id)、publish时间 (publish_date)、价格 (price)、描述 (description)、imagePath (image_path)、average评分 (average_rating)、评分数量 (rating_count)、创建时间 (created_time)、更新时间 (updated_time)、是否Deleted (is_deleted)，菜品表的数据库设计如下表，表4-4 菜品表 dish所示。",
      "word_limit": 70
    },
    {
      "title": "评分表",
      "text": "评分表，主要储存了本系统评分的相关信息，其中包含编号 (id)、用户编号 (user_id)、菜品编号 (dish_id)、评分值 (rating_value)、评价内容 (comment)、图片路径 (image_path)、状态 (status)、创建时间 (created_time)、更新时间 (updated_time)、是否删除 (is_deleted)，评分表的数据库设计如下表，表4-5 评分表 rating所示。",
      "tablePath": "/Users/jiongjiong/Documents/a_git_project/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-rating.json",
      "prompt": "请基于源码和论文主题，撰写《评分表》的正文，要求学术化表达，详细说明评分表的字段设计和约束条件，并在正文中结合三线表说明该表的数据结构和业务逻辑，确保涵盖text中的要点，字数参考word_limit配置。",
      "content": "评分表，主要储存了本系统评分的相关信息，其中包含编号 (id)、用户编号 (user_id)、菜品编号 (dish_id)、score (score)、评论 (comment)、imagePath (image_path)、评分时间 (rating_date)、创建时间 (created_time)、更新时间 (updated_time)、是否Deleted (is_deleted)，评分表的数据库设计如下表，表4-5 评分表 rating所示。",
      "word_limit": 70
    },
    {
      "title": "投诉表",
      "text": "投诉表，主要储存了本系统投诉的相关信息，其中包含编号 (id)、用户编号 (user_id)、投诉内容 (content)、投诉类型 (type)、相关编号 (related_id)、状态 (status)、处理人编号 (handler_id)、处理结果 (result)、处理时间 (handle_time)、创建时间 (created_time)、更新时间 (updated_time)，投诉表的数据库设计如下表，表4-6 投诉表 complaint所示。",
      "tablePath": "/Users/jiongjiong/Documents/a_git_project/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-complaint.json",
      "prompt": "请基于源码和论文主题，撰写《投诉表》的正文，要求学术化表达，详细说明投诉表的字段设计和约束条件，并在正文中结合三线表说明该表的数据结构和业务逻辑，确保涵盖text中的要点，字数参考word_limit配置。",
      "content": "投诉表，主要储存了本系统投诉的相关信息，其中包含编号 (id)、用户编号 (user_id)、档口编号 (stall_id)、类型 (type)、标题 (title)、内容 (content)、状态 (status)、adminReply (admin_reply)、创建时间 (created_time)、更新时间 (updated_time)、是否Deleted (is_deleted)，投诉表的数据库设计如下表，表4-6 投诉表 complaint所示。",
      "word_limit": 70
    },
    {
      "title": "敏感词表",
      "text": "敏感词表，主要储存了本系统敏感词的相关信息，其中包含编号 (id)、词汇 (word)、类型 (type)、状态 (status)、创建时间 (created_time)、更新时间 (updated_time)，敏感词表的数据库设计如下表，表4-7 敏感词表 sensitive_word所示。",
      "tablePath": "/Users/jiongjiong/Documents/a_git_project/promptx_tools/projects/canteen-rating/paper/exports/tables/Tab-sensitive_word.json",
      "prompt": "请基于源码和论文主题，撰写《敏感词表》的正文，要求学术化表达，详细说明敏感词表的字段设计和约束条件，并在正文中结合三线表说明该表的数据结构和业务逻辑，确保涵盖text中的要点，字数参考word_limit配置。",
      "content": "敏感词表，主要储存了本系统敏感词的相关信息，其中包含编号 (id)、词 (word)、level (level)、创建时间 (created_time)、更新时间 (updated_time)、是否Deleted (is_deleted)，敏感词表的数据库设计如下表，表4-7 敏感词表 sensitive_word所示。",
      "word_limit": 70
    }
  ]
}