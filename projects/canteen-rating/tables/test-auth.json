{
  "id": "6.2.1",
  "title": "用户认证与权限管理测试",
  "text": "用户认证与权限管理模块是系统安全的基础，测试重点包括注册、登录、令牌验证、权限控制等功能。测试用例覆盖正常场景（正确用户名密码登录成功）、异常场景（错误密码登录失败、令牌过期访问失败、无权限访问被拒绝）、边界场景（用户名长度限制、密码强度要求）。测试过程中发现并修复了令牌过期时间配置错误、权限判断逻辑遗漏等问题。所有测试用例执行结果如下表所示，共设计15个测试用例，全部通过。",
  "word_limit": 220,
  "tablePath": "${tables}/test-auth.json",
  "content": "用户认证与权限管理模块是系统安全的核心，测试的重点是验证认证机制的有效性和权限控制的正确性。\n\n测试用例设计覆盖了用户注册、登录、令牌验证和权限控制的各个场景。在用户注册测试中，设计了正常注册场景（填写完整有效的信息，注册成功）、异常场景（用户名已存在注册失败、密码强度不足注册失败、邮箱格式错误注册失败）、边界场景（用户名长度为最小值1字符和最大值50字符）等测试用例。在用户登录测试中，设计了正确用户名密码登录成功返回Token、错误密码登录失败返回错误提示、用户名不存在登录失败、账户被禁用无法登录等测试用例。在令牌验证测试中，设计了携带有效Token访问接口成功、不携带Token访问接口返回401错误、携带过期Token访问接口返回401错误、携带签名错误的Token访问接口返回401错误等测试用例。在权限控制测试中，设计了管理员访问管理接口成功、普通用户访问管理接口返回403错误、跨角色访问被拒绝等测试用例。\n\n测试执行过程中，使用Postman工具发送HTTP请求，模拟前端的调用行为。使用JUnit和MockMvc编写单元测试和集成测试，对Controller、Service、Mapper各层进行测试，确保代码逻辑正确。测试过程中发现了一些问题并进行了修复：Token过期时间配置错误，原设置为24分钟应为24小时，已修改配置；权限判断逻辑遗漏，部分接口缺少@PreAuthorize注解导致权限控制失效，已补充注解；登录失败次数未正确计数，已修复计数逻辑并添加自动解锁机制。\n\n所有测试用例执行结果如下表所示，共设计了15个测试用例，涵盖注册、登录、令牌验证、权限控制等功能点，经过测试和问题修复，所有用例全部通过，验证了用户认证与权限管理模块的功能正确性和安全性。",
  "sourceFile": "chapter.6.2.1.json",
  "extractedAt": "2025-09-30T10:25:51.845Z"
}